<div  class="service-head">
 
  <div class="back-button-container" >
    <i class="bi bi-chevron-double-left" (click)="goBack()" style="font-size: 2rem; color: #2c3e50;"></i>
  </div>
 
  <div class="user-history-container">
    <i class="bi bi-clock-history" (click)="goTohistory()"></i>
  </div>
 
 
  <div class="heading-container" >
    <h2 class="txts">General Services</h2>
  </div>
 
  <div *ngIf="isModalOpen" class="modal-overlay">
    <div class="modal-content">
      <h2>Service Booking History</h2>
      <div class="modal-body">
        <h3>Booked Cars:</h3>
        <div class="modal-car-list">
         <div *ngIf="IsBook; else noHistoryTemplate">
            <b>You have already booked a service</b>
            <p>Booked Date: {{carHistory.date}}</p>
            <p>Booked Time: {{carHistory.time}}</p>
          </div>
   
          <ng-template #noHistoryTemplate>
            <h5>You haven't booked any service yet</h5>
          </ng-template>
   
          </div>
       
      </div>
      <button (click)="closeModal()">Close</button>
    </div>
  </div>
  
  <div class="servicess">
   
    <div  class="service3">
      <h3>Our Services</h3>
      <ul>
        <li>Oil Change</li>
        <li>Brake Inspection</li>
        <li>Battery Replacement</li>
        <li>Tire Rotation</li>
        <li>Air Filter Replacement</li>
      </ul>
    </div>
 
    <!-- Center Section: Booking Form -->
    <div class="service1">
      <div class="booking-form">
        <div>
          <label for="appointmentDate">Select Date:</label>
          <input
            type="date"
            id="appointmentDate"
            [(ngModel)]="selectedDate"
            (change)="onDateChange()"
            [min]="minDate"
          />
        </div>
   
        <!-- Time Slots -->
        <div *ngIf="availableTimeSlots && availableTimeSlots.length > 0" class="time-slots-container">
          <h5>Available Slots:</h5>
          <div class="slot-buttons">
            <button
              *ngFor="let slot of availableTimeSlots"
              [ngClass]="{'selected': selectedTimeSlot === slot}"
              (click)="selectSlot(slot)"
              [disabled]="slot === 'No Slots Available!!!'">
              {{ slot }}
            </button>
          </div>
        </div>
   
        <!-- Submit Button -->
        <div>
          <button (click)="onSubmit()" [disabled]="!selectedDate || !selectedTimeSlot">
            Submit
          </button>
        </div>
   
        <!-- Confirmation Message -->
        <div *ngIf="submitted">
          <div *ngIf="flag">
            <p>Your appointment has been successfully booked for {{ selectedDate }} at {{ selectedTimeSlot }}.</p>
          </div>
        </div>
      </div>
    </div>
 
    <!-- Right Section: Services -->
    <div  class="service2">
      <h3>Additional Services</h3>
      <ul>
        <li>Engine Diagnostics</li>
        <li>Windshield Repair</li>
        <li>Suspension Repair</li>
        <li>Transmission Services</li>
        <li>Exhaust System Repair</li>
      </ul>
    </div>
  </div>
</div>