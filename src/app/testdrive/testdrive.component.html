<div class="back-button" style="position: absolute; top: 20px; left: 20px; z-index: 1; cursor: pointer;">
  <i class="bi bi-chevron-double-left" (click)="goBack()" style="font-size: 2rem; color: #2c3e50;"></i>
</div>
 
 
<!-- <i class="bi bi-clock-history" (click)="history()"></i> -->

<div class="user-history-container">
  <i class="bi bi-clock-history" (click)="history()"></i>
</div>

 
<div *ngIf="isModalOpen" class="modal-overlay">
  <div class="modal-content">
    <h2>TestDrive Confirmation</h2>
    <div class="modal-body">
      <h3>Booked Car:</h3>

      <div class="modal-car-list">
        <div *ngIf="Isbook; else noHistoryTemplate">
        <div *ngFor="let car of carHistory; let i = index" class="modal-car-item">
          <!-- First Car Image and Details Side-by-Side -->
          <div class="modal-car-container" [ngClass]="{'first-car': i === 0}">
            <img [src]="car.image" alt="car image" class="modal-car-image">
            <div class="modal-car-details">
              <p>Model: <strong> {{ car.model }}</strong> </p>
              <p>Segment: <strong> {{ car.segment }}</strong></p>
              <p>Date: <strong> {{ car.dateTime | extractDateTime:0:10 | reverseDate}}</strong></p>
              <p>Time: <strong> {{ car.dateTime | extractDateTime:11:19}}</strong></p>

            </div>
          </div>
        </div>
      </div>

      <ng-template #noHistoryTemplate>
        <h5>You haven't booked any service yet</h5>
      </ng-template>

      </div>
    </div>
    <button (click)="closeModal()">Close</button>
  </div>
</div>
 
 
 
<div>
  <h1>Select Car Model</h1>
  <div class="tabs">
    <div
      *ngFor="let segment of response"
      class="tab"
      [class.active]="selectedSegment === segment.segment_id"
      (click)="onSelectSegment(segment.segment_id)">
      {{ segment.segment }}
    </div>
  </div>
 
 
 
 
 
  <div *ngIf="selectedSegmentDetails">
    <p>{{ selectedSegmentDetails.description }}</p>
    <ul>
      <li *ngFor="let model of selectedSegmentDetails.models">
        {{ model }}
      </li>
    </ul>
  </div>
 
 
  <div *ngIf="models.length > 0" class="car-models-container">
   
 
    <div class="car-models-list">
      <div *ngFor="let car of models" class="car-card">
        <div class="car-image">
          <img [src]="car.car_image" alt="{{ car.car_name }}" />
        </div>
 
        <div class="car-details">
          <h2>{{ car.car_name }}</h2>
 
          <div class="date">
            <strong>Date:</strong>
            <input type="date" [min]="mindate" [(ngModel)]="selectedDates[car.testdrive_id]" />
          </div>
 
          <div class="time-slots" *ngIf="selectedDates[car.testdrive_id]">
            <strong>Available Test Drive Slots:</strong>
            <select [(ngModel)]="selectedSlots[car.testdrive_id]">
              <option *ngFor="let slot of car.time_slots" [value]="slot">
                {{ slot }}
              </option>
            </select>
          </div>
 
          <button
            class="book-btn"
            [disabled]="!selectedDates[car.testdrive_id] || !selectedSlots[car.testdrive_id]"
            (click)="bookTestDrive(car)"
          >
            Book Test Drive
          </button>
        </div>
      </div>
    </div>
  </div>
 
 
</div>
 